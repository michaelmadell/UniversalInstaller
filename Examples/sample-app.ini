; Universal Installer Configuration File
; This is a sample configuration for creating a Windows installer

[Setup]
; Basic application information
AppName=My Sample Application
AppVersion=1.0.0
AppPublisher=Your Company Name
AppPublisherURL=https://www.yourcompany.com
AppSupportURL=https://www.yourcompany.com/support
AppUpdatesURL=https://www.yourcompany.com/updates

; Installation directories
DefaultDirName={pf}\MyApp
DefaultGroupName=My Sample Application

; Output settings
OutputDir=Output
OutputBaseFilename=MyAppSetup

; Installer appearance
SetupIconFile=
WizardImageFile=
WizardSmallImageFile=
WizardStyle=modern

; Compression settings
Compression=yes
SolidCompression=yes

; Installer behavior
PrivilegesRequired=yes
CreateUninstaller=yes
AllowNoIcons=no

; License and readme
LicenseFile=license.txt
ShowLicense=yes
ReadmeFile=readme.txt
ShowReadme=yes

; Wizard pages
DisableWelcomePage=no
DisableDirPage=no
DisableProgramGroupPage=no
DisableReadyPage=no
DisableFinishedPage=no

; Uninstaller settings
UninstallDisplayName=My Sample Application
UninstallDisplayIcon={app}\MyApp.exe

; ==========================================
; FILES SECTION
; Define which files to install
; ==========================================

[Files]
; Main executable
Source=MyApp.exe
DestDir={app}
Flags=

; Configuration files
Source=config\*.cfg
DestDir={app}\config
Flags=

; Documentation
Source=docs\*.*
DestDir={app}\docs
Recurse=yes

; Libraries
Source=lib\MyLib.dll
DestDir={app}

; ==========================================
; DIRECTORIES SECTION
; Create additional directories
; ==========================================

[Dirs]
Name={app}\data
Name={app}\logs
Name={app}\temp
Name={userappdata}\MyApp

; ==========================================
; ICONS/SHORTCUTS SECTION
; Create Start Menu and Desktop shortcuts
; ==========================================

[Icons]
; Start Menu shortcuts
Name={group}\My Sample Application
Filename={app}\MyApp.exe
WorkingDir={app}
IconFilename={app}\MyApp.exe

Name={group}\Uninstall My Sample Application
Filename={app}\uninstall.exe

; Desktop shortcut (optional, based on task)
Name={userdesktop}\My Sample Application
Filename={app}\MyApp.exe
WorkingDir={app}
Tasks=desktopicon

; ==========================================
; REGISTRY SECTION
; Create registry entries
; ==========================================

[Registry]
; Application registration
Root=HKLM
Subkey=Software\MyCompany\MyApp
ValueName=InstallPath
ValueType=string
ValueData={app}
Flags=

Root=HKLM
Subkey=Software\MyCompany\MyApp
ValueName=Version
ValueType=string
ValueData={#AppVersion}

; File associations (optional)
Root=HKCR
Subkey=.myext
ValueType=string
ValueData=MyApp.Document

Root=HKCR
Subkey=MyApp.Document
ValueType=string
ValueData=My Sample Application Document

Root=HKCR
Subkey=MyApp.Document\DefaultIcon
ValueType=string
ValueData={app}\MyApp.exe,0

Root=HKCR
Subkey=MyApp.Document\shell\open\command
ValueType=string
ValueData="{app}\MyApp.exe" "%1"

; ==========================================
; RUN SECTION
; Execute programs after installation
; ==========================================

[Run]
; Run post-install script
Filename={app}\setup-database.bat
Parameters=
WorkingDir={app}
Description=Setting up database
Flags=

; Optional: Launch application after install
Filename={app}\MyApp.exe
Description=Launch My Sample Application
Flags=postinstall

; ==========================================
; COMPONENTS SECTION
; Optional components for custom installation
; ==========================================

[Components]
Name=core
Description=Core application files (required)
Types=full,compact,custom
Fixed=yes

Name=docs
Description=Documentation and help files
Types=full,custom

Name=samples
Description=Sample files and templates
Types=full,custom

; ==========================================
; TASKS SECTION
; Optional installation tasks
; ==========================================

[Tasks]
Name=desktopicon
Description=Create a desktop shortcut
Components=core
Checked=yes

Name=quicklaunch
Description=Create a Quick Launch shortcut
Components=core
Checked=no
